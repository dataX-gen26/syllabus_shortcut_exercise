import{g as z,i as H,e as J,c as O,a as W,s as L,b as Q}from"./shortcutUtils-D8s83kok.js";import{Q as X,C as Y,P as Z}from"./PreviewArea-C2JJQOTG.js";import{_ as T,e as ee,v as te,c as v,a as t,d as f,t as p,o as r,f as a,g as c,h as ne,i as se,b as x,j as m,k as S,u as ae}from"./index-DPBK0GPR.js";const ue={id:"score-area"},oe={id:"correct-count"},re={id:"final-miss-count"},le={id:"reveal-count"},ie={__name:"ScoreArea",props:{gameFinished:Boolean,correctCount:Number,missCount:Number,revealCount:Number},setup(u){return(i,e)=>ee((r(),v("div",ue,[e[3]||(e[3]=t("h2",null,"結果",-1)),t("p",null,[e[0]||(e[0]=f("正解数: ")),t("strong",oe,p(u.correctCount)+" 問",1)]),t("p",null,[e[1]||(e[1]=f("ミスタイプ数: ")),t("span",re,p(u.missCount)+" 回",1)]),t("p",null,[e[2]||(e[2]=f("正解を見た回数: ")),t("span",le,p(u.revealCount)+" 回",1)])],512)),[[te,u.gameFinished]])}},ce=T(ie,[["__scopeId","data-v-8d534746"]]),ve={class:"status-area"},de={id:"timer"},me={id:"correct-count"},fe={id:"miss-count"},pe={__name:"StatusArea",props:{timer:Number,correctCount:Number,missCount:Number},setup(u){return(i,e)=>(r(),v("div",ve,[t("div",null,[e[0]||(e[0]=f("残り時間: ")),t("span",de,p(u.timer)+" 秒",1)]),t("div",null,[e[1]||(e[1]=f("正解: ")),t("span",me,p(u.correctCount)+" 問",1)]),t("div",null,[e[2]||(e[2]=f("ミスタイプ: ")),t("span",fe,p(u.missCount)+" 回",1)])]))}},Ce=T(pe,[["__scopeId","data-v-adc85db8"]]),ye={class:"page-wrapper"},_e={class:"container"},he={key:0},ge={key:1},we={key:2},q=60,Ae={__name:"test",setup(u){const i=H(),e=a([]),C=a(0),_=a(0),A=a(0),h=a(0),g=a(q);let K=null;const s=a(!1),l=a(!1),o=a(!1),k=a(!1),y=a(new Set),w=c(()=>e.value.length?e.value[C.value]:null),F=c(()=>{var n;return((n=w.value)==null?void 0:n.name)||"ここに問題文が表示されます"}),M=c(()=>{var n;return((n=w.value)==null?void 0:n.id)||null}),E=c(()=>{var n;return((n=w.value)==null?void 0:n.level)||null}),I=c(()=>z(w.value,i)),R=c(()=>l.value?"もう一度挑戦する":"スタート"),D=c(()=>[]);function V(){s.value=!0,l.value=!1,o.value=!1,_.value=0,A.value=0,h.value=0,g.value=q,y.value.clear(),e.value=L([...Q]),C.value=0,G()}function G(){K=setInterval(()=>{g.value--,g.value<=0&&b()},1e3)}function N(){clearInterval(K)}function P(n){if(!s.value||o.value)return;n.preventDefault();const d=J(n,i);y.value=new Set(d),!(d.length===1&&d[0]==="shift")&&(O(n,I.value,i)?U():W(n,I.value,i)||_.value++)}function B(){o.value||setTimeout(()=>{y.value.clear()},100)}function U(){h.value++,o.value=!0,setTimeout($,500)}function j(){!s.value||o.value||(k.value=!0,A.value++,o.value=!0,setTimeout($,500))}function $(){s.value&&(C.value>=e.value.length-1?(e.value=L([...Q]),C.value=0):C.value++,y.value.clear(),o.value=!1,k.value=!1)}function b(){N(),s.value=!1,l.value=!0}return ne(()=>{document.addEventListener("keydown",P),document.addEventListener("keyup",B)}),se(()=>{document.removeEventListener("keydown",P),document.removeEventListener("keyup",B),N()}),(n,d)=>(r(),v("div",ye,[t("div",_e,[d[0]||(d[0]=t("h1",null,"スプレッドシート ショートカット演習",-1)),!s.value&&!l.value?(r(),v("p",he,"制限時間1分！何問正解できるかに挑戦！")):m("",!0),s.value?(r(),v("p",ge,"問題の操作を行うショートカットキーを押してください。")):m("",!0),l.value?(r(),v("p",we,"時間です！お疲れ様でした。")):m("",!0),x(X,{isPlaying:s.value,gameFinished:l.value,questionText:F.value,questionLevel:E.value,showCorrectAnimation:o.value,isRevealAnswer:k.value,currentCorrectKeys:I.value,isMac:ae(i),pressedKeys:y.value},null,8,["isPlaying","gameFinished","questionText","questionLevel","showCorrectAnimation","isRevealAnswer","currentCorrectKeys","isMac","pressedKeys"]),l.value?(r(),S(ce,{key:3,gameFinished:l.value,correctCount:h.value,missCount:_.value,revealCount:A.value},null,8,["gameFinished","correctCount","missCount","revealCount"])):m("",!0),s.value?(r(),S(Ce,{key:4,timer:g.value,correctCount:h.value,missCount:_.value},null,8,["timer","correctCount","missCount"])):m("",!0),x(Y,{isPlaying:s.value,showCorrectAnimation:o.value,startButtonText:R.value,onStartGame:V,onRevealAnswer:j},null,8,["isPlaying","showCorrectAnimation","startButtonText"]),s.value?(r(),v("p",{key:5,class:"end-game",onClick:b},"終了する")):m("",!0)]),x(Z,{currentQuestionId:M.value,isPlaying:s.value,previewImages:D.value},null,8,["currentQuestionId","isPlaying","previewImages"])]))}},Te=T(Ae,[["__scopeId","data-v-1f19fcd4"]]);export{Te as default};
