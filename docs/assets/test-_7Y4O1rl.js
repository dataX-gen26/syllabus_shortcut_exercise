import{g as z,i as H,e as J,c as O,s as L,a as Q}from"./shortcutUtils-D9RF4-mS.js";import{Q as W,C as X,P as Y}from"./PreviewArea-CKfKSKpE.js";import{_ as I,e as Z,v as ee,c as v,a as t,d as m,t as f,o as r,f as u,g as i,h as te,i as ne,b as k,j as d,k as S,u as se}from"./index-BhYl72x9.js";const ue={id:"score-area"},ae={id:"correct-count"},oe={id:"final-miss-count"},re={id:"reveal-count"},le={__name:"ScoreArea",props:{gameFinished:Boolean,correctCount:Number,missCount:Number,revealCount:Number},setup(a){return(c,e)=>Z((r(),v("div",ue,[e[3]||(e[3]=t("h2",null,"結果",-1)),t("p",null,[e[0]||(e[0]=m("正解数: ")),t("strong",ae,f(a.correctCount)+" 問",1)]),t("p",null,[e[1]||(e[1]=m("ミスタイプ数: ")),t("span",oe,f(a.missCount)+" 回",1)]),t("p",null,[e[2]||(e[2]=m("正解を見た回数: ")),t("span",re,f(a.revealCount)+" 回",1)])],512)),[[ee,a.gameFinished]])}},ie=I(le,[["__scopeId","data-v-8d534746"]]),ve={class:"status-area"},ce={id:"timer"},de={id:"correct-count"},me={id:"miss-count"},fe={__name:"StatusArea",props:{timer:Number,correctCount:Number,missCount:Number},setup(a){return(c,e)=>(r(),v("div",ve,[t("div",null,[e[0]||(e[0]=m("残り時間: ")),t("span",ce,f(a.timer)+" 秒",1)]),t("div",null,[e[1]||(e[1]=m("正解: ")),t("span",de,f(a.correctCount)+" 問",1)]),t("div",null,[e[2]||(e[2]=m("ミスタイプ: ")),t("span",me,f(a.missCount)+" 回",1)])]))}},pe=I(fe,[["__scopeId","data-v-adc85db8"]]),Ce={class:"page-wrapper"},_e={class:"container"},ye={key:0},ge={key:1},he={key:2},q=60,we={__name:"test",setup(a){const c=H(),e=u([]),p=u(0),h=u(0),w=u(0),_=u(0),y=u(q);let T=null;const s=u(!1),l=u(!1),o=u(!1),A=u(!1),C=u(new Set),g=i(()=>e.value.length?e.value[p.value]:null),F=i(()=>{var n;return((n=g.value)==null?void 0:n.name)||"ここに問題文が表示されます"}),M=i(()=>{var n;return((n=g.value)==null?void 0:n.id)||null}),E=i(()=>{var n;return((n=g.value)==null?void 0:n.level)||null}),x=i(()=>z(g.value,c)),R=i(()=>l.value?"もう一度挑戦する":"スタート"),D=i(()=>[]);function V(){s.value=!0,l.value=!1,o.value=!1,h.value=0,w.value=0,_.value=0,y.value=q,C.value.clear(),e.value=L([...Q]),p.value=0,G()}function G(){T=setInterval(()=>{y.value--,y.value<=0&&$()},1e3)}function N(){clearInterval(T)}function B(n){!s.value||o.value||(n.preventDefault(),C.value=new Set(J(n,c)),O(n,x.value,c)&&U())}function K(){o.value||setTimeout(()=>{C.value.clear()},100)}function U(){_.value++,o.value=!0,setTimeout(P,500)}function j(){!s.value||o.value||(A.value=!0,w.value++,o.value=!0,setTimeout(P,500))}function P(){s.value&&(p.value>=e.value.length-1?(e.value=L([...Q]),p.value=0):p.value++,C.value.clear(),o.value=!1,A.value=!1)}function $(){N(),s.value=!1,l.value=!0}return te(()=>{document.addEventListener("keydown",B),document.addEventListener("keyup",K)}),ne(()=>{document.removeEventListener("keydown",B),document.removeEventListener("keyup",K),N()}),(n,b)=>(r(),v("div",Ce,[t("div",_e,[b[0]||(b[0]=t("h1",null,"スプレッドシート ショートカット演習",-1)),!s.value&&!l.value?(r(),v("p",ye,"制限時間1分！何問正解できるかに挑戦！")):d("",!0),s.value?(r(),v("p",ge,"問題の操作を行うショートカットキーを押してください。")):d("",!0),l.value?(r(),v("p",he,"時間です！お疲れ様でした。")):d("",!0),k(W,{isPlaying:s.value,gameFinished:l.value,questionText:F.value,questionLevel:E.value,showCorrectAnimation:o.value,isRevealAnswer:A.value,currentCorrectKeys:x.value,isMac:se(c),pressedKeys:C.value},null,8,["isPlaying","gameFinished","questionText","questionLevel","showCorrectAnimation","isRevealAnswer","currentCorrectKeys","isMac","pressedKeys"]),l.value?(r(),S(ie,{key:3,gameFinished:l.value,correctCount:_.value,missCount:h.value,revealCount:w.value},null,8,["gameFinished","correctCount","missCount","revealCount"])):d("",!0),s.value?(r(),S(pe,{key:4,timer:y.value,correctCount:_.value,missCount:h.value},null,8,["timer","correctCount","missCount"])):d("",!0),k(X,{isPlaying:s.value,showCorrectAnimation:o.value,startButtonText:R.value,onStartGame:V,onRevealAnswer:j},null,8,["isPlaying","showCorrectAnimation","startButtonText"]),s.value?(r(),v("p",{key:5,class:"end-game",onClick:$},"終了する")):d("",!0)]),k(Y,{currentQuestionId:M.value,isPlaying:s.value,previewImages:D.value},null,8,["currentQuestionId","isPlaying","previewImages"])]))}},Te=I(we,[["__scopeId","data-v-11e7fb01"]]);export{Te as default};
