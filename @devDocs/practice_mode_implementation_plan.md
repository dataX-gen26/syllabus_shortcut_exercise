# ショートカット演習アプリ 練習モード実装設計書 (改訂版)

## 1. 概要

既存のショートカット演習アプリケーション（テストモード）に、新たに「練習モード」を追加実装するための設計を定義する。本改訂版では、ユーザーからのフィードバックを反映し、練習モードの仕様を具体化する。

## 2. 目的

ユーザーが特定の**頻出度**に基づいた問題を集中して練習できる環境を提供する。スコアや時間を気にせず、自分のペースで学習を進めることを可能にする。

## 3. 実装方針

- **UI の共通化**: 練習モードとテストモードの基本的な UI は共通化し、既存の Vue コンポーネントを最大限に再利用する。
- **モード別ロジック**: モード選択画面を起点とし、`vue-router` を用いて「テストモード」と「練習モード」のコンポーネントを切り替える。各モードの差異（問題の選定ロジック、UI 要素の表示/非表示）は、それぞれの親コンポーネント内で管理する。

## 4. ディレクトリ構造

コンポーネントの再利用を促進するため、練習モード専用のコンポーネントは作成せず、既存コンポーネントを流用・改修して対応する。

```
src/
├── App.vue (変更)
├── router/
│   └── index.js (変更)
└── views/
    ├── index.vue (新規作成)
    └── shortcuts/
        ├── test.vue (リネーム)
        ├── practice.vue (新規作成)
        └── components/
            ├── ControlButtons.vue (再利用)
            ├── PreviewArea.vue (再利用)
            ├── QuizArea.vue (再利用)
            ├── ScoreArea.vue (テストモードでのみ利用)
            └── StatusArea.vue (テストモードでのみ利用)
```

## 5. 各ファイルの責務とファイル名

### 5.1. ルーティング・エントリーポイント

- **ファイル名**: `src/router/index.js`
- **責務**: アプリケーション全体のルーティングを定義する。

  - `/`: モード選択画面 (`views/index.vue`)
  - `/test`: テストモード画面 (`views/shortcuts/test.vue`)
  - `/practice`: 練習モード画面 (`views/shortcuts/practice.vue`)

- **ファイル名**: `src/App.vue`
- **責務**: ルートコンポーネント。`<router-view>` を配置し、URL に応じたページを描画する。

### 5.2. ビュー (画面コンポーネント)

- **ファイル名**: `src/views/index.vue`
- **責務**: アプリケーションのトップページ。「テストモード」と「練習モード」へのリンクを配置し、ユーザーにモードを選択させる。

- **ファイル名**: `src/views/shortcuts/test.vue`
- **責務**: 従来のテストモード機能。

  - `shortcutsList.js` の全問題を対象にランダムで出題する。
  - タイマーとスコアを計算・表示する。
  - (現行の `src/views/shortcuts/index.vue` の機能を移植)

- **ファイル名**: `src/views/shortcuts/practice.vue`
- **責務**: 新しく実装する練習モードのメイン画面。
  - **頻出度選択**: 画面初期表示時に、ユーザーに問題の頻出度（「激高」「高」「中, 低」）を選択させるための UI（ドロップダウンやボタンなど）を表示する。
  - **問題の準備**: 頻出度が選択されたら、`shortcutsList.js` から該当する問題をすべてフィルタリングし、その中からランダムに 10 問を抽出して練習セッションの問題リストを作成する。
  - **演習の実行**: テストモードと共通の UI コンポーネント (`QuizArea`, `PreviewArea`, `ControlButtons` 等) を使用して、準備した 10 問を順に出題する。
  - **UI の差異**: タイマー (`StatusArea`) と最終結果 (`ScoreArea`) は表示しない。

### 5.3. 共通コンポーネントの再利用

- `QuizArea.vue`, `PreviewArea.vue`, `ControlButtons.vue` などの既存コンポーネントは、練習モードとテストモードで共通して利用する。
- モードによる表示の差異は、親コンポーネント (`test.vue`, `practice.vue`) から渡される `props` や `v-if` ディレクティブによって制御する。例えば、`ControlButtons.vue` のボタン文言や、`ScoreArea.vue`, `StatusArea.vue` の表示/非表示を切り替える。
